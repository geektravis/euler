{"filter":false,"title":"21.js","tooltip":"/21.js","undoManager":{"mark":3,"position":3,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":40,"column":29},"action":"insert","lines":["var _ = require('lodash');","","// for all numbers up to 10000","// get the sum of all proper divisors","// map to 0 if not amicable","// sum","","","function getProperDivisors(num) {"," var  n_factors = [],  i;"," "," for (i = 1; i <= Math.floor(Math.sqrt(num)); i += 1)","  if (num % i === 0)","  {","   n_factors.push(i);","   if (num / i !== i  && i > 1)","    n_factors.push(num / i);","  }"," n_factors.sort(function(a, b){return a - b;});  // numeric sort"," return n_factors;","}    ","","function getSumOfProperDivisors(i) {","   return _.reduce(getProperDivisors(i), function(sum, num) { return sum+num;});","}","","function isAmicable(i) {","   var sum = getSumOfProperDivisors(i);","   console.log(i + ': ' + (i === getSumOfProperDivisors(sum)));","   if (i == getSumOfProperDivisors(sum) && i!=sum) return true;","}","    ","var a = _.chain(new Array(10000))","    .map(function (value, i) { return (i+1); }) // get the index number as the value","    .map(function (e) { if (isAmicable(e)) return e;  return 0;})// map to 0 if it is not amicable","    .reduce(function(a, b) { return 0+a+b; }, 0)",".value();","","console.log(a);","//_.each(a, function(e, index) { console.log(index + ': ' + e); });","console.log(isAmicable(284));"]}]}],[{"group":"doc","deltas":[{"start":{"row":28,"column":0},"end":{"row":29,"column":0},"action":"remove","lines":["   console.log(i + ': ' + (i === getSumOfProperDivisors(sum)));",""]}]}],[{"group":"doc","deltas":[{"start":{"row":38,"column":0},"end":{"row":39,"column":0},"action":"remove","lines":["//_.each(a, function(e, index) { console.log(index + ': ' + e); });",""]}]}],[{"group":"doc","deltas":[{"start":{"row":38,"column":0},"end":{"row":38,"column":29},"action":"remove","lines":["console.log(isAmicable(284));"]}]}]]},"ace":{"folds":[],"scrolltop":111.16667890548706,"scrollleft":0,"selection":{"start":{"row":38,"column":0},"end":{"row":38,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":6,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1420850495705,"hash":"0edad57b882b3e93f65758d6742760b56b585438"}